<!--
Power Comparison between the Old FM and the New FM

Made 2019-04-11 Sun Yudong

All codes and files available at https://github.com/sunjerry019/photonLauncher/tree/master/labs/nanomaterials/FM
Organization of folder subject to changes
-->
<script>

// "Old" has been changed to "old", same for "New"

var data = {"old": {"UV": {"10x": {"LMP": {"100": "7.42", "50": "3.98", "25": "1.78", "12": "0.777", "6": "0.389", "3": "0.189"}}, "20x": {"LMP": {"100": "3.46", "50": "1.85", "25": "0.827", "12": "0.363", "6": "0.182", "3": "0.089"}}, "50x": {"LMP": {"100": "2.35", "50": "1.28", "25": "0.568", "12": "0.250", "6": "0.127", "3": "0.060"}, "MP": {"100": "3.93", "50": "2.10", "25": "0.932", "12": "0.423", "6": "0.211", "3": "0.095"}}, "100x": {"LMP": {"100": "0.258", "50": "0.140", "25": "0.063", "12": "0.028", "6": "0.014", "3": "0.0068"}, "MP": {"100": "2.88", "50": "1.52", "25": "0.691", "12": "0.306", "6": "0.151", "3": "0.071"}}}, "Blue": {"10x": {"LMP": {"100": "25.37", "50": "10.72", "25": "4.94", "12": "2.27", "6": "1.09", "3": "0.520"}}, "20x": {"LMP": {"100": "24.15", "50": "10.22", "25": "4.67", "12": "2.13", "6": "1.03", "3": "0.494"}}, "50x": {"LMP": {"100": "15.61", "50": "6.69", "25": "3.05", "12": "1.36", "6": "0.665", "3": "0.316"}, "MP": {"100": "19.81", "50": "8.40", "25": "3.87", "12": "1.70", "6": "0.850", "3": "0.421"}}, "100x": {"LMP": {"100": "9.72", "50": "4.19", "25": "1.89", "12": "0.83", "6": "0.425", "3": "0.203"}, "MP": {"100": "10.10", "50": "4.28", "25": "1.96", "12": "0.87", "6": "0.423", "3": "0.211"}}}, "Green": {"10x": {"LMP": {"100": "40.90", "50": "17.10", "25": "7.90", "12": "3.42", "6": "1.70", "3": "0.845"}}, "20x": {"LMP": {"100": "39.87", "50": "16.46", "25": "7.52", "12": "3.67", "6": "1.62", "3": "0.788"}}, "50x": {"LMP": {"100": "24.76", "50": "10.54", "25": "4.86", "12": "2.21", "6": "1.063", "3": "0.523"}, "MP": {"100": "33.94", "50": "14.6", "25": "6.63", "12": "2.93", "6": "1.462", "3": "0.691"}}, "100x": {"LMP": {"100": "15.78", "50": "6.66", "25": "3.04", "12": "1.38", "6": "0.670", "3": "0.327"}, "MP": {"100": "17.10", "50": "7.37", "25": "3.41", "12": "1.50", "6": "0.770", "3": "0.349"}}}, "Yellow": {"10x": {"LMP": {"100": "84.8", "50": "35.3", "25": "16.01", "12": "7.16", "6": "3.51", "3": "2.29"}}, "20x": {"LMP": {"100": "81.5", "50": "34.1", "25": "15.35", "12": "7.07", "6": "3.39", "3": "2.26"}}, "50x": {"LMP": {"100": "51.8", "50": "21.6", "25": "9.90", "12": "4.33", "6": "2.20", "3": "1.45"}, "MP": {"100": "72.0", "50": "30.2", "25": "13.77", "12": "6.05", "6": "3.04", "3": "1.953"}}, "100x": {"LMP": {"100": "33.47", "50": "13.83", "25": "6.34", "12": "2.78", "6": "1.38", "3": "0.934"}, "MP": {"100": "37.3", "50": "15.45", "25": "7.09", "12": "3.14", "6": "1.55", "3": "1.058"}}}}, "new": {"UV": {"5x": {"LMP": {"100": "120.2", "50": "59.97", "25": "29.41", "12": "12.82", "6": "6.40", "3": "3.02"}}, "10x": {"LMP": {"100": "85.70", "50": "42.20", "25": "20.82", "12": "9.1", "6": "4.48", "3": "2.167"}}, "20x": {"LMP": {"100": "53.96", "50": "26.57", "25": "13.2", "12": "5.812", "6": "2.86", "3": "1.398"}}, "50x": {"LMP": {"100": "14.41", "50": "7.08", "25": "3.5", "12": "1.565", "6": "0.782", "3": "0.379"}}, "100x": {"LMP": {"100": "3.631", "50": "1.88", "25": "0.910", "12": "0.401", "6": "0.201", "3": "0.098"}, "MP": {"100": "14.97", "50": "7.61", "25": "3.64", "12": "1.6", "6": "0.788", "3": "0.374"}}}, "Blue": {"5x": {"LMP": {"100": "65.1", "50": "32.30", "25": "15.88", "12": "6.95", "6": "3.46", "3": "1.67"}}, "10x": {"LMP": {"100": "58.6", "50": "28.94", "25": "14.21", "12": "6.29", "6": "3.12", "3": "1.50"}}, "20x": {"LMP": {"100": "40.8", "50": "21.01", "25": "10.34", "12": "4.55", "6": "2.26", "3": "1.1"}}, "50x": {"LMP": {"100": "9.66", "50": "6.09", "25": "3.01", "12": "1.34", "6": "0.67", "3": "0.325"}}, "100x": {"LMP": {"100": "7.60", "50": "3.481", "25": "1.73", "12": "0.767", "6": "0.383", "3": "0.185"}, "MP": {"100": "8.62", "50": "3.91", "25": "1.93", "12": "0.863", "6": "0.428", "3": "0.208"}}}, "Green": {"5x": {"LMP": {"100": "86.4", "50": "43.50", "25": "21.24", "12": "9.34", "6": "4.5", "3": "2.185"}}, "10x": {"LMP": {"100": "82.2", "50": "41.36", "25": "20.14", "12": "8.9", "6": "4.3", "3": "2.085"}}, "20x": {"LMP": {"100": "66.1", "50": "33.09", "25": "16.12", "12": "7.12", "6": "3.45", "3": "1.673"}}, "50x": {"LMP": {"100": "18.38", "50": "9.1", "25": "4.445", "12": "1.68", "6": "0.970", "3": "0.470"}}, "100x": {"LMP": {"100": "11.46", "50": "5.4", "25": "2.632", "12": "1.163", "6": "0.564", "3": "0.2748"}, "MP": {"100": "14.14", "50": "6.76", "25": "3.290", "12": "1.452", "6": "0.705", "3": "0.3405"}}}, "Yellow": {"5x": {"LMP": {"100": "135.0", "50": "104.8", "25": "56.3", "12": "25.46", "6": "12.38", "3": "6.00"}}, "10x": {"LMP": {"100": "128.4", "50": "100.4", "25": "62.9", "12": "23.92", "6": "11.66", "3": "5.65"}}, "20x": {"LMP": {"100": "120.7", "50": "85.9", "25": "42.27", "12": "19.14", "6": "9.34", "3": "4.51"}}, "50x": {"LMP": {"100": "49.55", "50": "24.2", "25": "11.76", "12": "5.33", "6": "2.609", "3": "1.272"}}, "100x": {"LMP": {"100": "30.42", "50": "14.95", "25": "7.06", "12": "3.202", "6": "1.569", "3": "0.762"}, "MP": {"100": "36.43", "50": "17.95", "25": "8.70", "12": "3.948", "6": "1.930", "3": "0.932"}}}}};

function updateData() {
    _light = document.getElementById("light").value;
    _mag   = document.getElementById("mag").value;
    _type  = document.getElementById("type").value;

    _fms = ["old", "new"];
    _hg  = ["100", "50", "25", "12", "6", "3"];

    for (var i = 0; i < 6; i ++)
    {
        _row = document.getElementById("p" + _hg[i])
        for (var j = 0; j < 2; j ++)
        {
            try { dat = data[_fms[j]][_light][_mag][_type][_hg[i]] }
            catch (e) { dat = "N/A" }

            _row.querySelectorAll('.' + _fms[j])[0].innerHTML = dat ;
        }
    }
}

document.addEventListener('DOMContentLoaded', function(e) {
    updateData();
    selects = document.querySelectorAll("#parameters select");

    selects.forEach(function(ele){
        ele.addEventListener('change', updateData);
    });
});


</script>

<style>
    .monospace { font-family: "Consolas", monospace; font-size: 0.9em; }
    #parameters td:first-child { padding-right: 10px; }
    #parameters h3 { margin-bottom: 5px; }
    #parameters { margin-bottom: 10px; }
    #reference, #results-table { border-collapse: collapse; text-align: left; }
    #reference th, #results-table th { border-top: 1px solid black; border-bottom: 1px solid black; padding: 2px 7px }
    #reference td, #results-table td { padding: 2px 7px; }
    #reference tr:last-child, #results-table tr:last-child { border-bottom: 1px solid black; }
</style>

<body style="font-family: 'Linux Libertine', 'Calibri', sans-serif;">
    <h2>Fluorescence Microscope Mercury Lamp Comparison</h2>

    <div id="parameters">
        <h3>Parameters</h3>
        <table>
            <tr>
                <td>Light</td>
                <td>
                    <select id="light">
                        <option selected>UV</option>
                        <option>Blue</option>
                        <option>Green</option>
                        <option>Yellow</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Mag</td>
                <td>
                    <select id="mag">
                        <option>5x</option>
                        <option selected>10x</option>
                        <option>50x</option>
                        <option>100x</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Type</td>
                <td>
                    <select id="type">
                        <option selected>LMP</option>
                        <option>MP</option>
                    </select>
                </td>
            </tr>
        </table>
    </div>

    <div id="results">
        <table id="results-table">
            <tr>
                <th>Hg Lamp / %</th>
                <th>Old / mW</th>
                <th>New / mW</th>
            </tr>
            <tr class="monospace" id="p100">
                <td>100</td>
                <td class="old">7.42</td>
                <td class="new">85.70</td>
            </tr>
            <tr class="monospace" id="p50">
                <td>50</td>
                <td class="old">3.98</td>
                <td class="new">42.20</td>
            </tr>
            <tr class="monospace" id="p25">
                <td>25</td>
                <td class="old">1.78</td>
                <td class="new">20.82</td>
            </tr>
            <tr class="monospace" id="p12">
                <td>12</td>
                <td class="old">0.777</td>
                <td class="new">9.1</td>
            </tr>
            <tr class="monospace" id="p6">
                <td>6</td>
                <td class="old">0.389</td>
                <td class="new">4.48</td>
            </tr>
            <tr class="monospace" id="p3">
                <td>3</td>
                <td class="old">0.189</td>
                <td class="new">2.167</td>
            </tr>
        </table>
    </div>

    <p>For reference, the data was measured in April 2019, and the wavelengths used were as follows:</p>
    <table id="reference">
        <tr>
            <th>Light</th>
            <th>Old</th>
            <th>New</th>
        </tr>
        <tr class="monospace">
            <td>UV</td>
            <td>345 nm</td>
            <td>370 nm</td>
        </tr>
        <tr class="monospace">
            <td>Blue</td>
            <td>470 nm</td>
            <td>470 nm</td>
        </tr>
        <tr class="monospace">
            <td>Green</td>
            <td>520 nm</td>
            <td>540 nm</td>
        </tr>
        <tr class="monospace">
            <td>Yellow</td>
            <td>550 nm</td>
            <td>560 nm</td>
        </tr>
    </table>

    <p><small style="color: #777; ">Made Sun Yudong, 2019</small></p>
</body>
